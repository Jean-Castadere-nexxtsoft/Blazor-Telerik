@page "/treeviewflat"

<TelerikTreeView Data="@FlatData" @bind-ExpandedItems="@ExpandedItems">
    <TreeViewBindings>
        <TreeViewBinding ParentIdField="Parent" />
    </TreeViewBindings>
</TelerikTreeView>

@code {
    public IEnumerable<TreeItem> FlatData { get; set; }
    public IEnumerable<object> ExpandedItems { get; set; }

    public class TreeItem
    {
        public int Id { get; set; }
        public string Text { get; set; }
        public int? Parent { get; set; }
        public bool HasChildren { get; set; }
    }

    protected override void OnInitialized()
    {
        LoadFlatData();
    }


    private void LoadFlatData()
    {
        List<TreeItem> items = new List<TreeItem>();

        items.Add(new TreeItem()
            {
                Id = 1,
                Text = "Headphones types",
                Parent = null,
                HasChildren = true
            });

        items.Add(new TreeItem()
            {
                Id = 2,
                Text = "Sports",
                Parent = null,
                HasChildren = true
            });

        items.Add(new TreeItem()
            {
                Id = 3,
                Text = "Vehicles",
                Parent = null,
                HasChildren = false
            });

        items.Add(new TreeItem()
            {
                Id = 4,
                Text = "In-ear",
                Parent = 1,
                HasChildren = false
            });

        items.Add(new TreeItem()
            {
                Id = 5,
                Text = "Over-ear",
                Parent = 1,
                HasChildren = false
            });

        items.Add(new TreeItem()
            {
                Id = 6,
                Text = "On-ear",
                Parent = 1,
                HasChildren = false
            });

        items.Add(new TreeItem()
            {
                Id = 7,
                Text = "Cycling",
                Parent = 2,
                HasChildren = true
            });

        items.Add(new TreeItem()
            {
                Id = 8,
                Text = "Road racing",
                Parent = 7,
                HasChildren = false
            });

        items.Add(new TreeItem()
            {
                Id = 9,
                Text = "Mountain bike racing",
                Parent = 7,
                HasChildren = false
            });

        FlatData = items;
        ExpandedItems = items.Take(1);
    }
}
